<template>
  <footer class="footerSection">
    <div class="row">
      <div class="col-12">
         <div class="footerSection__topRow footerSection__topRow-flex">
          <div class="footerSection__topColumn">
            <h6>О выставке</h6>
            <ul class="list-unstyled">
        			<li><a href="/ru-RU/about/sections.aspx" style="">Разделы выставки</a></li>
        			<li><a href="/ru-RU/about/products.aspx">Каталог продукции</a></li>
        			<li><a href="/ru-RU/about/exposition.aspx">Интерактивный план</a></li>
        			<li><a href="/ru-RU/about/exhibitor-list.aspx">Список участников</a></li>
        			<li><a href="/ru-RU/about/venue.aspx" style="">Место проведения</a></li>
        			<li><a href="/ru-RU/about/support/official.aspx" style="">Поддержка</a></li>
        			<li><a href="/ru-RU/about/sponsor/golden.aspx" style="">Спонсоры</a></li>
        			<li><a href="/ru-RU/about/travel.aspx" style="">Организация поездки</a></li>
        			<li><a href="/ru-RU/about/organizer.aspx" style="">Организатор</a></li>
        			<li><a href="/ru-RU/about/contacts.aspx" style="">Контакты</a></li>
        			<li><a href="/ru-RU/about/exhibitions.aspx" style="">Выставки</a></li>
            </ul>
          </div>
          <div class="footerSection__topColumn">
            <h6>О выставке</h6>
            <ul class="list-unstyled">
        			<li><a href="/ru-RU/about/sections.aspx" style="">Разделы выставки</a></li>
        			<li><a href="/ru-RU/about/products.aspx">Каталог продукции</a></li>
        			<li><a href="/ru-RU/about/exposition.aspx">Интерактивный план</a></li>
        			<li><a href="/ru-RU/about/exhibitor-list.aspx">Список участников</a></li>
        			<li><a href="/ru-RU/about/venue.aspx" style="">Место проведения</a></li>
        			<li><a href="/ru-RU/about/support/official.aspx" style="">Поддержка</a></li>
        			<li><a href="/ru-RU/about/sponsor/golden.aspx" style="">Спонсоры</a></li>
        			<li><a href="/ru-RU/about/travel.aspx" style="">Организация поездки</a></li>
        			<li><a href="/ru-RU/about/organizer.aspx" style="">Организатор</a></li>
        			<li><a href="/ru-RU/about/contacts.aspx" style="">Контакты</a></li>
        			<li><a href="/ru-RU/about/exhibitions.aspx" style="">Выставки</a></li>
            </ul>
          </div>
          <div class="footerSection__topColumn">
            <h6>О выставке</h6>
            <ul class="list-unstyled">
        			<li><a href="/ru-RU/about/sections.aspx" style="">Разделы выставки</a></li>
        			<li><a href="/ru-RU/about/products.aspx">Каталог продукции</a></li>
        			<li><a href="/ru-RU/about/exposition.aspx">Интерактивный план</a></li>
        			<li><a href="/ru-RU/about/exhibitor-list.aspx">Список участников</a></li>
        			<li><a href="/ru-RU/about/venue.aspx" style="">Место проведения</a></li>
        			<li><a href="/ru-RU/about/support/official.aspx" style="">Поддержка</a></li>
        			<li><a href="/ru-RU/about/sponsor/golden.aspx" style="">Спонсоры</a></li>
        			<li><a href="/ru-RU/about/travel.aspx" style="">Организация поездки</a></li>
        			<li><a href="/ru-RU/about/organizer.aspx" style="">Организатор</a></li>
        			<li><a href="/ru-RU/about/contacts.aspx" style="">Контакты</a></li>
        			<li><a href="/ru-RU/about/exhibitions.aspx" style="">Выставки</a></li>
            </ul>
          </div>
          <div class="footerSection__topColumn">
            <h6>О выставке</h6>
            <ul class="list-unstyled">
        			<li><a href="/ru-RU/about/sections.aspx" style="">Разделы выставки</a></li>
        			<li><a href="/ru-RU/about/products.aspx">Каталог продукции</a></li>
        			<li><a href="/ru-RU/about/exposition.aspx">Интерактивный план</a></li>
        			<li><a href="/ru-RU/about/exhibitor-list.aspx">Список участников</a></li>
        			<li><a href="/ru-RU/about/venue.aspx" style="">Место проведения</a></li>
        			<li><a href="/ru-RU/about/support/official.aspx" style="">Поддержка</a></li>
        			<li><a href="/ru-RU/about/sponsor/golden.aspx" style="">Спонсоры</a></li>
        			<li><a href="/ru-RU/about/travel.aspx" style="">Организация поездки</a></li>
        			<li><a href="/ru-RU/about/organizer.aspx" style="">Организатор</a></li>
        			<li><a href="/ru-RU/about/contacts.aspx" style="">Контакты</a></li>
        			<li><a href="/ru-RU/about/exhibitions.aspx" style="">Выставки</a></li>
            </ul>
          </div>
          <div class="footerSection__topColumn">
            <h6>О выставке</h6>
            <ul class="list-unstyled">
        			<li><a href="/ru-RU/about/sections.aspx" style="">Разделы выставки</a></li>
        			<li><a href="/ru-RU/about/products.aspx">Каталог продукции</a></li>
        			<li><a href="/ru-RU/about/exposition.aspx">Интерактивный план</a></li>
        			<li><a href="/ru-RU/about/exhibitor-list.aspx">Список участников</a></li>
        			<li><a href="/ru-RU/about/venue.aspx" style="">Место проведения</a></li>
        			<li><a href="/ru-RU/about/support/official.aspx" style="">Поддержка</a></li>
        			<li><a href="/ru-RU/about/sponsor/golden.aspx" style="">Спонсоры</a></li>
        			<li><a href="/ru-RU/about/travel.aspx" style="">Организация поездки</a></li>
        			<li><a href="/ru-RU/about/organizer.aspx" style="">Организатор</a></li>
        			<li><a href="/ru-RU/about/contacts.aspx" style="">Контакты</a></li>
        			<li><a href="/ru-RU/about/exhibitions.aspx" style="">Выставки</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
   <div class="row">
     <div class="footerSection__bottomRow col-12" v-bind:class="{ 'd-relative': admin }">
        <div v-if="admin" class="d-modal">
          <button class="btn btn-primary btn-edit-mode" @click="footerBottomRowEdit = true">Edit</button>
          <b-modal hide-header-close v-model="footerBottomRowEdit" title="Edit footer bootom row">
            <div role="tablist">
              <b-card no-body class="mb-1" v-for="organizer in organizers" :key="organizer.order">
                <b-card-header header-tag="header" class="p-3 bg-dark text-white" role="tab" v-b-toggle="organizer.companyName">
                  {{ organizer.companyName }}
                </b-card-header>
                <b-collapse :id="organizer.companyName" accordion="my-accordion" role="tabpanel">
                  <b-card-body>
                    <b-form>
                      <b-form-group id="input-company-logotype-group" label="Logotype:" label-for="input-company-logotype">
                        <b-form-file id="file_input1" v-model="organizer.companyLogotype"></b-form-file>
                        <br> Selected file: {{organizer.companyLogotype && organizer.companyLogotype.name}}
                      </b-form-group>
                      <b-form-group id="input-company-name-group" label="Company name:" label-for="input-company-name">
                        <b-form-input id="input-company-name" type="text" v-model="organizer.companyName"></b-form-input>
                      </b-form-group>
                      <b-form-group id="input-company-phone-group" label="Company phone:" label-for="input-company-phone">
                        <b-form-input id="input-company-phone" type="text" v-model="organizer.companyPhone"></b-form-input>
                      </b-form-group>
                      <b-form-group id="input-company-email-group" label="Company email:" label-for="input-company-email">
                        <b-form-input id="input-company-email" type="text" v-model="organizer.companyEmail"></b-form-input>
                      </b-form-group>
                      <b-form-group id="input-company-site-group" label="Company site:" label-for="input-company-site">
                        <b-form-input id="input-company-site" type="text" v-model="organizer.companySite"></b-form-input>
                      </b-form-group>
                    </b-form>
                  </b-card-body>
                </b-collapse>
              </b-card>
            </div>
            <template slot="modal-footer">
              <b-button @click="saveOrganizers" variant="primary">Submit</b-button>
            </template>
          </b-modal>
        </div>
        <div class="footerSection__organization">
          <h6>Организатор выставки</h6>
          <ul class="list-inline d-flex">
            <li class="list-inline-item">
              <img src="~/static/images/ite.png" />
            </li>
            <li class="list-inline-item">
              ITE Москва<br />
              +7 (495) 935-73-50<br />
              <a href="mailto:security@ite-expo.ru">security@ite-expo.ru</a><br />
              <a href="http://www.ite-expo.ru/" target="_blank" title="www.ite-expo.ru">www.ite-expo.ru</a>
            </li>
          </ul>
        </div>
        <div class="footerSection__support">
          <h6>При поддержке</h6>
          <a href="http://www.ufi.org/" rel="nofollow" target="_blank">
            <img src="~/static/images/ufi.png" />
          </a>
        </div>
        <div class="footerSection__social">
          <ul class="list-inline social">
            <li class="list-inline-item">
              <a href="http://www.facebook.com/" target="_blank" rel="nofollow" style="background-image:url('/images/facebook.png');">&nbsp;</a>
            </li>
            <li class="list-inline-item">
              <a href="http://www.linkedin.com/" target="_blank" rel="nofollow" style="background-image:url('/images/linkedin.png');">&nbsp;</a>
            </li>
            <li class="list-inline-item">
              <a href="http://www.vk.com/" target="_blank" rel="nofollow" style="background-image:url('/images/vkontakte.png');">&nbsp;</a>
            </li>
            <li class="list-inline-item">
              <a href="https://twitter.com/" target="_blank" rel="nofollow" style="background-image:url('/images/twitter.png');">&nbsp;</a>
            </li>
            <li class="list-inline-item">
              <a href="https://instagram.com/" target="_blank" rel="nofollow" style="background-image:url('/images/instagram.png')">&nbsp;</a>
            </li>
          </ul>
        </div>
     </div>
   </div>
    
  </footer>
</template>

<script>
  import axios from '~/plugins/axios'
  
  export default {
    data: function () {
      return {
        admin: true,
        organizers: [],
        supports: [],
        footerBottomRowEdit: false,
        footerBottomRowEditAlertType: 'info',
        footerBottomRowEditAlertText: 'Choose image 270x90 px'
      }
    },
    methods: {
      saveOrganizers: function () {
        let self = this
        axios({
          method: 'post',
          url: '/api/content/footer/organizers',
          data: self.organizers
        }).then((response) => {
          console.log(response)
        }).catch((error) => {
          console.log(error)
        })
      },
      fetchData: function () {
        let self = this
        axios({
          method: 'get',
          url: '/api/content/footer'
        }).then((response) => {
          self.organizers = response.data.organizers
          self.supports = response.data.supports
        }).catch((error) => {
          console.log(error)
        })
      }
    },
    created: function () {
      let self = this
      self.fetchData()
    }
  }
</script>

<style>
  .footerSection
  {
    text-align: left;
    border: none;
    padding: 0 15px;
    margin-bottom: 20px;
  }
  .footerSection__topRow
  {
    background-color: #b5bbbd;
    display: flex;
    flex-wrap: wrap;
    margin-bottom: 10px;
  }
  .footerSection__topColumn
  {
    width: 20%;
    padding: 10px 15px;
    color: #fff;
  }
  .footerSection__bottomRow
  {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
  }
  .footerSection__social
  {
    text-align: right;
  }
  
  @media(max-width: 456px)
  {
    .footerSection__topRow-flex
    {
      flex-direction: column;
    }
    .footerSection__organization,
    .footerSection__support
    {
      width: 50%;
    }
    .footerSection__social
    {
      width: 100%;
    }
  }
  @media(min-width: 457px)
  {
    .footerSection__topRow-flex
    {
      flex-direction: row;
    }
    .footerSection__organization,
    .footerSection__support
    {
      width: 20%;
    }
    .footerSection__social
    {
      width: 60%;
    }
  }
</style>